/* RagStatusIndicator - Radix-inspired status indicator for system states */

.rt-StatusIndicator {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-family: var(--default-font-family);
  font-weight: var(--font-weight-4);
  
  /* Size variants */
  &.rt-size-xs {
    font-size: var(--font-size-1);
    line-height: var(--line-height-1);
    gap: var(--space-1);
  }

  &.rt-size-sm {
    font-size: var(--font-size-2);
    line-height: var(--line-height-2);
    gap: var(--space-1);
  }

  &.rt-size-md {
    font-size: var(--font-size-2);
    line-height: var(--line-height-2);
    gap: var(--space-2);
  }

  &.rt-size-lg {
    font-size: var(--font-size-3);
    line-height: var(--line-height-3);
    gap: var(--space-2);
  }

  /* Status variants */
  &.rt-status-idle {
    .rt-status-icon {
      color: var(--gray-9);
    }
    .rt-status-label {
      color: var(--gray-11);
    }
  }

  &.rt-status-loading {
    .rt-status-icon {
      color: var(--accent-9);
    }
    .rt-status-label {
      color: var(--gray-11);
    }
  }

  &.rt-status-success {
    .rt-status-icon {
      color: var(--green-9);
    }
    .rt-status-label {
      color: var(--green-11);
    }
  }

  &.rt-status-error {
    .rt-status-icon {
      color: var(--red-9);
    }
    .rt-status-label {
      color: var(--red-11);
    }
  }

  &.rt-status-warning {
    .rt-status-icon {
      color: var(--amber-9);
    }
    .rt-status-label {
      color: var(--amber-11);
    }
  }

  /* Pulse animation for loading states */
  &.rt-pulse .rt-status-icon {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
}

.rt-status-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: color 0.2s var(--ease-out-quad);
}

.rt-status-label {
  font-weight: var(--font-weight-5);
  white-space: nowrap;
  transition: color 0.2s var(--ease-out-quad);
}

/* Pulse animation keyframes */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Loading spinner rotation for loader icon */
.rt-status-loading .rt-status-icon :global(svg) {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Dark mode support */
:global(.dark) .rt-StatusIndicator {
  &.rt-status-idle {
    .rt-status-icon {
      color: var(--gray-8);
    }
    .rt-status-label {
      color: var(--gray-3);
    }
  }

  &.rt-status-loading {
    .rt-status-icon {
      color: var(--accent-9);
    }
    .rt-status-label {
      color: var(--gray-3);
    }
  }

  &.rt-status-success {
    .rt-status-label {
      color: var(--green-3);
    }
  }

  &.rt-status-error {
    .rt-status-label {
      color: var(--red-3);
    }
  }

  &.rt-status-warning {
    .rt-status-label {
      color: var(--amber-3);
    }
  }
}

/* Compact variant for tight spaces */
.rt-StatusIndicator.rt-compact {
  gap: var(--space-1);
  
  .rt-status-label {
    font-size: var(--font-size-1);
    font-weight: var(--font-weight-4);
  }
}

/* Icon-only variant */
.rt-StatusIndicator:not(.rt-StatusIndicator:has(.rt-status-label)) {
  .rt-status-icon {
    position: relative;
    
    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: calc(100% + var(--space-2));
      height: calc(100% + var(--space-2));
      border-radius: var(--radius-full);
      background-color: currentColor;
      opacity: 0;
      transition: opacity 0.2s var(--ease-out-quad);
      z-index: -1;
    }
    
    &:hover::after {
      opacity: 0.1;
    }
  }
}
<main class="container">
  <h1>RAG Studio</h1>

  <div class="row">
    <a href="https://tauri.app" target="_blank">
      <img src="/assets/tauri.svg" class="logo tauri" alt="Tauri logo" />
    </a>
    <a href="https://angular.io" target="_blank">
      <img src="/assets/angular.svg" class="logo angular" alt="Angular logo" />
    </a>
  </div>

  <form class="row" (submit)="greet($event, greetInput.value)">
    <input #greetInput id="greet-input" placeholder="Enter a name..." />
    <button type="submit">Greet</button>
  </form>
  <p>{{ greetingMessage() }}</p>

  <form class="row" (submit)="rustCallPython($event, rustCallInput.value)">
    <input #rustCallInput id="rust-call-input" placeholder="Enter name for Python greeting..." />
    <button type="submit">Python Greeting</button>
  </form>
  <p>{{ rustPythonMessage() }}</p>

  <hr>
  <h3>ðŸš€ MCP Server Dashboard</h3>
  
  <div class="mcp-status-section">
    <div class="mcp-status-header">
      <h4>Status: <span [class]="mcpStatusClass()">{{ mcpDisplayStatus() }}</span></h4>
    </div>
    
    <div class="row">
      <button type="button" (click)="startMcpServer()" [disabled]="mcpDisplayStatus() === 'Running'">Start MCP Server</button>
      <button type="button" (click)="stopMcpServer()" [disabled]="mcpDisplayStatus() === 'Stopped'">Stop MCP Server</button>
      <button type="button" (click)="getMcpStatus()">Refresh Status</button>
      <button type="button" (click)="getMcpHealthcheck()" [disabled]="mcpDisplayStatus() !== 'Running'">Healthcheck</button>
    </div>

    <div class="mcp-info-grid">
      <div class="mcp-card">
        <h5>ðŸŽ¯ Service Information</h5>
        <pre>{{ mcpServiceInfo() || 'Loading...' }}</pre>
      </div>
      
      @if (mcpHealthStatus()) {
        <div class="mcp-card">
          <h5>ðŸ’š Health Status</h5>
          <pre>{{ mcpHealthStatus() }}</pre>
        </div>
      }
    </div>
  </div>

  <router-outlet />
</main>
